THREE.StereoEffect=function(e){this.stereo=new THREE.StereoCamera,this.stereo.aspect=.5,this.setSize=function(t,i){e.setSize(t,i)},this.baseScreen=5.5,this.eyeSep=.064,this.screen=5.5,this.screenSizeChanged=!1,this.setScreen=function(e){this.screen!==e&&(this.screen=e,this.screenSizeChanged=!0)},this.getScreen=function(){return this.screen},this.updateEyeSep=function(e){return this.eyeSep=e,this.eyeSep<.04&&(this.eyeSep=.04),this.eyeSep>.1&&(this.eyeSep=.1),this.eyeSep},this.getEyeSep=function(){return this.eyeSep},this.render=function(t,i){this.screenSizeChanged&&(i.fov=90+5*(this.screen-this.baseScreen),this.screenSizeChanged=!1),i.updateProjectionMatrix(),t.updateMatrixWorld(),null===i.parent&&i.updateMatrixWorld(),this.stereo.update(i,this.eyeSep);var s=e.getSize();e.setScissorTest(!0),e.clear(),e.setScissor(0,0,s.width/2,s.height),e.setViewport(0,0,s.width/2,s.height),e.render(t,this.stereo.cameraL),e.setScissor(s.width/2,0,s.width,s.height),e.setViewport(s.width/2,0,s.width/2,s.height),e.render(t,this.stereo.cameraR),e.setScissorTest(!1)},this.clear=function(t){var i=e.getSize();e.clear(),e.setScissor(0,0,i.width,i.height),e.setViewport(0,0,i.width,i.height),t.fov=90}};